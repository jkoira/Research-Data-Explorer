{% extends "layout.html" %}

{% block title %}Find Dataset{% endblock %}

{% block content %}
<h2>Find Dataset</h2>
<form action="/find_dataset" method="get" class="search-form">
  <div class="form-row">
    <label for="query">Keywords:</label>
    <input type="text" name ="query" id="query" value="{{ query or '' }}">
  </div>
  <div class="form-row">
    <label for="data_type">Data type:</label>
    <select name="data_type" id="data_type">
    <option value="">Any</option>
    {% if classes["Data type"] %}
      {% for value in classes["Data type"] %}
        <option value="{{ value }}"
          {% if value == data_type %}selected{% endif %}>
        {{ value }}
    </option>
      {% endfor %}
    {% endif %}
  </select>
  </div>
  <div class="form-row">
    <label for="scientific_field">Scientific field:</label>
    <select name="scientific_field" id="scientific_field">
    <option value="">Any</option>
    {% if classes["Scientific field"] %}
      {% for value in classes["Scientific field"] %}
        <option value="{{ value }}"
          {% if value == scientific_field %}selected{% endif %}>
          {{ value }}
        </option>
      {% endfor %}
    {% endif %}
  </select>
</div>
<div class="form-row">
  <span></span>
  <input type="submit" value="Search" class="button">
</div>
</form>

{% if query or data_type or scientific_field %}
<h3>Results</h3>
<ul>
  {% for item in results %}
  <li><a href="/item/{{ item.id }}">{{ item.title }}</a> </li>
  {% endfor %}
</ul>
{% endif %} 
{% endblock %}